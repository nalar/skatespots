script.
	map.data.setMap(null);
	
	var SpotLocation;
	var SpotLocationArr = [0,0];
	function placeMarker(location) {
		if ( SpotLocation ) {
			SpotLocation.setPosition(location);
			SpotLocationArr[0] = location.lng();
			SpotLocationArr[1] = location.lat();
			$("#formlatlon").val(SpotLocationArr)
		} else {
			SpotLocation = new google.maps.Marker({
			position: location,
			map: map,
			draggable: true
		});
		
		SpotLocationArr[0] = location.lng();
		SpotLocationArr[1] = location.lat();
		$("#formlatlon").val(SpotLocationArr)

		SpotLocation.addListener('dragend', function(event) {
			SpotLocationArr[0] = SpotLocation.getPosition().lng();
			SpotLocationArr[1] = SpotLocation.getPosition().lat();
			$("#formlatlon").val(SpotLocationArr)
		});
		}
	}

	addMarkerListener = map.addListener('click', function(event) {
		placeMarker(event.latLng);
	});

script.
	$( document ).ready(function() {		
		$( "#editSpot" ).click(function(){
			$.post('/editspot', {
			spotID: $('#spotID').val(),
			latlon: $('#formlatlon').val(),
			spotName: $('#spotName').val(),
			spotType: $('#spotType').val(),
			spotDescription: $('#spotDescription').val(),
			spotPhoto: $('#spotPhoto').val(),
			videoLink: $('#videoLink').val(),
			videoTime: $('#videoTime').val(),
			author: "#{userid}"
			}).done(function(result){
				google.maps.event.removeListener(addMarkerListener);
				window.map.data.loadGeoJson('/skatespots.json')
				window.map.data.setMap(map);
				$('#content').html('Succesfully edited spot')
			})
		})
	});

div(id="editspotform")
	h2 Edit spot
	input(type="hidden" id="spotID" value=spottoedit.id)
	input(type="text" id="formlatlon" name="latlon" value=spottoedit.location)
	br
	input(type="text" id="spotName" value=spottoedit.name)
	br
	input(type="text" id="spotType" value=spottoedit.type)
	br
	input(type="text" id="spotDescription" value=spottoedit.description)
	br
	input(type="text" id="spotPhoto" value=spottoedit.photo)
	br
	input(type="text" id="videoLink" value=spottoedit.videolink[0])
	br
	input(type="text" id="videoTime" value=spottoedit.videolink[1])
	br
	button(type="submit" id="editSpot") Edit Spot